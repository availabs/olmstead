var g,ba=ba||{},m=this,n=function(a){return void 0!==a},ca=function(a,b,c){a=a.split(".");c=c||m;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&n(b)?c[d]=b:c=c[d]?c[d]:c[d]={}},da=function(a,b){for(var c=a.split("."),d=b||m,e;e=c.shift();)if(null!=d[e])d=d[e];else return null;return d},ea=function(){},fa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);
if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},p=function(a){return"array"==fa(a)},ga=function(a){var b=
fa(a);return"array"==b||"object"==b&&"number"==typeof a.length},q=function(a){return"string"==typeof a},ha=function(a){return"number"==typeof a},r=function(a){return"function"==fa(a)},ia=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},la=function(a){return a[ja]||(a[ja]=++ka)},ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0,ma=function(a,b,c){return a.call.apply(a.bind,arguments)},na=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,
2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},s=function(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return s.apply(null,arguments)},oa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},u=Date.now||function(){return+new Date},
v=function(a,b){function c(){}c.prototype=b.prototype;a.p=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Vd=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return s.apply(null,c)}return s(this,a)};var w=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,w);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};v(w,Error);w.prototype.name="CustomError";var pa;var qa=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ra=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},za=function(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));-1!=a.indexOf("'")&&
(a=a.replace(xa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(ya,"&#0;"));return a},ta=/&/g,ua=/</g,va=/>/g,wa=/"/g,xa=/'/g,ya=/\x00/g,sa=/[\x00&<>"']/,x=function(a,b){return-1!=a.indexOf(b)},Aa=function(a,b){return a<b?-1:a>b?1:0};var Ba=function(a,b){b.unshift(a);w.call(this,qa.apply(null,b));b.shift()};v(Ba,w);Ba.prototype.name="AssertionError";
var Ca=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new Ba(""+e,f||[]);},z=function(a,b,c){a||Ca("",null,b,Array.prototype.slice.call(arguments,2))},Da=function(a,b){throw new Ba("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},Ea=function(a,b,c){ha(a)||Ca("Expected number but got %s: %s.",[fa(a),a],b,Array.prototype.slice.call(arguments,2))},Fa=function(a,b,c){r(a)||Ca("Expected function but got %s: %s.",[fa(a),a],b,Array.prototype.slice.call(arguments,
2))};var A=Array.prototype,Ga=A.indexOf?function(a,b,c){z(null!=a.length);return A.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ha=A.forEach?function(a,b,c){z(null!=a.length);A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ia=A.some?function(a,b,c){z(null!=a.length);return A.some.call(a,b,c)}:
function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Ka=function(a){var b;t:{b=Ja;for(var c=a.length,d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break t}b=-1}return 0>b?null:q(a)?a.charAt(b):a[b]},La=function(a,b){var c=Ga(a,b),d;if(d=0<=c)z(null!=a.length),A.splice.call(a,c,1);return d},Na=function(a){return A.concat.apply(A,arguments)},Oa=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=
a[d];return c}return[]},Qa=function(a,b){a.sort(b||Pa)},Pa=function(a,b){return a>b?1:a<b?-1:0};var Ra=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Sa=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ta=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ua="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Va=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ua.length;f++)c=Ua[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},Wa=function(a){var b=
arguments.length;if(1==b&&p(arguments[0]))return Wa.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var Xa=function(a,b,c){this.Zb=b.name||null;this.Uc=b.Ud;this.ha={};for(a=0;a<c.length;a++)b=c[a],this.ha[b.fa]=b};Xa.prototype.getName=function(){return this.Zb};Xa.prototype.Bb=function(){return this.Uc?this.Uc.Z():null};var Ya=function(a){a=Sa(a.ha);Qa(a,function(a,c){return a.fa-c.fa});return a};var Za=function(a,b,c){this.q=a;z(!/[^0-9]/.test(b));this.fa=b;this.Zb=c.name;this.Hc=!!c.Sd;this.rb=c.u;this.Kc=c.type};Za.prototype.Bb=function(){return this.q.Z()};Za.prototype.getName=function(){return this.Zb};var B=function(){this.ia={};this.ha=this.Z().ha;this.L=this.Rc=null};B.prototype.Z=function(){var a=this.constructor,b;if(!(b=a.bd)){var c;b=a.Jd;var d=[],e=b[0];for(c in b)0!=c&&d.push(new Za(a,c,b[c]));c=new Xa(0,e,d);b=a.bd=c}return b};B.prototype.get=function(a,b){z(a.Bb()==this.Z(),"The current message does not contain the given field");return $a(this,a.fa,b)};B.prototype.set=function(a,b){z(a.Bb()==this.Z(),"The current message does not contain the given field");ab(this,a.fa,b)};
B.prototype.add=function(a,b){z(a.Bb()==this.Z(),"The current message does not contain the given field");bb(this,a.fa,b)};var db=function(a,b){z(a.constructor==b.constructor,"The source message must have the same type.");for(var c=Ya(a.Z()),d=0;d<c.length;d++){var e=c[d],f=e.fa;if(null!=b.ia[f]){a.L&&delete a.L[e.fa];var h=11==e.rb||10==e.rb;if(e.Hc)for(var e=cb(b,f)||[],k=0;k<e.length;k++)bb(a,f,h?e[k].clone():e[k]);else e=cb(b,f),h?(h=cb(a,f))?db(h,e):ab(a,f,e.clone()):ab(a,f,e)}}};
B.prototype.clone=function(){var a=new this.constructor;z(a.constructor==this.constructor,"The source message must have the same type.");a!=this&&(a.ia={},a.L&&(a.L={}),db(a,this));return a};
var cb=function(a,b){var c=a.ia[b];return null==c?null:a.Rc?b in a.L?a.L[b]:(c=a.Rc.Td(a,a.ha[b],c),a.L[b]=c):c},$a=function(a,b,c){var d=cb(a,b);return a.ha[b].Hc?(a=c||0,z(0<=a&&a<d.length,"Given index %s is out of bounds.  Repeated field length: %s",a,d.length),d[a]):d},ab=function(a,b,c){var d=a.ha[b];14==d.rb?Ea(c):z(c.constructor==d.Kc);a.ia[b]=c;a.L&&(a.L[b]=c)},bb=function(a,b,c){var d=a.ha[b];14==d.rb?Ea(c):z(c.constructor==d.Kc);a.ia[b]||(a.ia[b]=[]);a.ia[b].push(c);a.L&&delete a.L[b]},
eb=function(a,b){a.Jd=b;a.Z=function(){return a.bd||(new a).Z()}};var fb=function(){B.apply(this)};v(fb,B);var gb=function(){B.apply(this)};v(gb,B);gb.prototype.sb=function(){return $a(this,2)};gb.prototype.ub=function(a){ab(this,2,a)};gb.prototype.Oc=function(){return null!=this.ia[2]};
eb(fb,{0:{name:"BrowserChannelConfig",Qd:"buzz.channel.proto.BrowserChannelConfig"},1:{name:"authuser",u:4,type:Number},2:{name:"client_type",u:9,type:String},3:{name:"init_delay_ms",u:5,type:Number},4:{name:"service_override",u:9,type:String},5:{name:"gapi_src",u:9,type:String},6:{name:"property_id",u:9,type:String},7:{name:"application_version",u:9,type:String},8:{name:"retry_on_auth_error",u:8,type:Boolean},9:{name:"gsid_servlet_path",u:9,type:String}});
eb(gb,{0:{name:"AuthenticationParameters",Qd:"buzz.channel.proto.AuthenticationParameters"},1:{name:"origin",u:9,type:String},2:{name:"scheme",u:5,type:Number},3:{name:"token",u:9,type:String},4:{name:"authuser",u:13,type:Number}});var D=function(){this.U=this.U;this.ra=this.ra};D.prototype.U=!1;D.prototype.Db=function(){this.U||(this.U=!0,this.e())};var hb=function(a,b){a.ra||(a.ra=[]);a.ra.push(n(void 0)?s(b,void 0):b)};D.prototype.e=function(){if(this.ra)for(;this.ra.length;)this.ra.shift()()};var E=function(a){a&&"function"==typeof a.Db&&a.Db()};var ib=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Ia=!1;this.Pc=!0};ib.prototype.e=function(){};ib.prototype.Db=function(){};ib.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Pc=!1};var jb=function(a){jb[" "](a);return a};jb[" "]=ea;var kb=function(a,b){try{return jb(a[b]),!0}catch(c){}return!1};var F;t:{var lb=m.navigator;if(lb){var mb=lb.userAgent;if(mb){F=mb;break t}}F=""};var nb=x(F,"Opera")||x(F,"OPR"),G=x(F,"Trident")||x(F,"MSIE"),ob=x(F,"Gecko")&&!x(F.toLowerCase(),"webkit")&&!(x(F,"Trident")||x(F,"MSIE")),H=x(F.toLowerCase(),"webkit"),pb=function(){var a=m.document;return a?a.documentMode:void 0},qb=function(){var a="",b;if(nb&&m.opera)return a=m.opera.version,r(a)?a():a;ob?b=/rv\:([^\);]+)(\)|;)/:G?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:H&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(F))?a[1]:"");return G&&(b=pb(),b>parseFloat(a))?String(b):a}(),rb={},I=function(a){var b;
if(!(b=rb[a])){b=0;for(var c=ra(String(qb)).split("."),d=ra(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"",t=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var C=t.exec(h)||["","",""],y=l.exec(k)||["","",""];if(0==C[0].length&&0==y[0].length)break;b=Aa(0==C[1].length?0:parseInt(C[1],10),0==y[1].length?0:parseInt(y[1],10))||Aa(0==C[2].length,0==y[2].length)||Aa(C[2],y[2])}while(0==b)}b=rb[a]=0<=b}return b},sb=m.document,tb=sb&&G?pb()||("CSS1Compat"==
sb.compatMode?parseInt(qb,10):5):void 0;var ub=!G||G&&9<=tb,vb=G&&!I("9");!H||I("528");ob&&I("1.9b")||G&&I("8")||nb&&I("9.5")||H&&I("528");ob&&!I("8")||G&&I("9");var wb=function(a,b){ib.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.vb=this.state=null;a&&this.hc(a,b)};v(wb,ib);
wb.prototype.hc=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?ob&&(kb(d,"nodeName")||(d=null)):"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=H||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=H||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||
0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.vb=a;a.defaultPrevented&&this.preventDefault()};wb.prototype.preventDefault=function(){wb.p.preventDefault.call(this);var a=this.vb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,vb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};
wb.prototype.e=function(){};var xb="closure_listenable_"+(1E6*Math.random()|0),yb=function(a){return!(!a||!a[xb])},zb=0;var Ab=function(a,b,c,d,e){this.pa=a;this.Ab=null;this.src=b;this.type=c;this.wb=!!d;this.ma=e;this.key=++zb;this.Ea=this.xb=!1},Bb=function(a){a.Ea=!0;a.pa=null;a.Ab=null;a.src=null;a.ma=null};var Cb=function(a){this.src=a;this.o={};this.Xa=0};Cb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.o[f];a||(a=this.o[f]=[],this.Xa++);var h=Db(a,b,d,e);-1<h?(b=a[h],c||(b.xb=!1)):(b=new Ab(b,this.src,f,!!d,e),b.xb=c,a.push(b));return b};Cb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.o))return!1;var e=this.o[a];b=Db(e,b,c,d);return-1<b?(Bb(e[b]),z(null!=e.length),A.splice.call(e,b,1),0==e.length&&(delete this.o[a],this.Xa--),!0):!1};
var Eb=function(a,b){var c=b.type;if(!(c in a.o))return!1;var d=La(a.o[c],b);d&&(Bb(b),0==a.o[c].length&&(delete a.o[c],a.Xa--));return d};Cb.prototype.nb=function(a){a=a&&a.toString();var b=0,c;for(c in this.o)if(!a||c==a){for(var d=this.o[c],e=0;e<d.length;e++)++b,Bb(d[e]);delete this.o[c];this.Xa--}return b};Cb.prototype.Ya=function(a,b,c,d){a=this.o[a.toString()];var e=-1;a&&(e=Db(a,b,c,d));return-1<e?a[e]:null};
var Db=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Ea&&f.pa==b&&f.wb==!!c&&f.ma==d)return e}return-1};var Fb="closure_lm_"+(1E6*Math.random()|0),Gb={},Hb=0,Ib=function(a,b,c,d,e){if(p(b)){for(var f=0;f<b.length;f++)Ib(a,b[f],c,d,e);return null}c=Jb(c);return yb(a)?a.Ma(b,c,d,e):Kb(a,b,c,!1,d,e)},Kb=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,k=Lb(a);k||(a[Fb]=k=new Cb(a));c=k.add(b,c,d,e,f);if(c.Ab)return c;d=Mb();c.Ab=d;d.src=a;d.pa=c;a.addEventListener?a.addEventListener(b.toString(),d,h):a.attachEvent(Nb(b.toString()),d);Hb++;return c},Mb=function(){var a=Ob,b=ub?function(c){return a.call(b.src,
b.pa,c)}:function(c){c=a.call(b.src,b.pa,c);if(!c)return c};return b},Pb=function(a,b,c,d,e){if(p(b)){for(var f=0;f<b.length;f++)Pb(a,b[f],c,d,e);return null}c=Jb(c);return yb(a)?a.gc(b,c,d,e):Kb(a,b,c,!0,d,e)},Qb=function(a,b,c,d,e){if(p(b))for(var f=0;f<b.length;f++)Qb(a,b[f],c,d,e);else c=Jb(c),yb(a)?a.dc(b,c,d,e):a&&(a=Lb(a))&&(b=a.Ya(b,c,!!d,e))&&Rb(b)},Rb=function(a){if(ha(a)||!a||a.Ea)return!1;var b=a.src;if(yb(b))return Eb(b.Q,a);var c=a.type,d=a.Ab;b.removeEventListener?b.removeEventListener(c,
d,a.wb):b.detachEvent&&b.detachEvent(Nb(c),d);Hb--;(c=Lb(b))?(Eb(c,a),0==c.Xa&&(c.src=null,b[Fb]=null)):Bb(a);return!0},Sb=function(a,b,c,d,e){c=Jb(c);d=!!d;return yb(a)?a.Ya(b,c,d,e):a?(a=Lb(a))?a.Ya(b,c,d,e):null:null},Nb=function(a){return a in Gb?Gb[a]:Gb[a]="on"+a},Ub=function(a,b,c,d){var e=1;if(a=Lb(a))if(b=a.o[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.wb==c&&!f.Ea&&(e&=!1!==Tb(f,d))}return Boolean(e)},Tb=function(a,b){var c=a.pa,d=a.ma||a.src;a.xb&&Rb(a);return c.call(d,
b)},Ob=function(a,b){if(a.Ea)return!0;if(!ub){var c=b||da("window.event"),d=new wb(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){t:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break t}catch(h){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,k=c.length-1;!d.Ia&&0<=k;k--)d.currentTarget=c[k],e&=Ub(c[k],f,!0,d);for(k=0;!d.Ia&&k<c.length;k++)d.currentTarget=c[k],e&=Ub(c[k],f,!1,d)}return e}return Tb(a,new wb(b,this))},Lb=
function(a){a=a[Fb];return a instanceof Cb?a:null},Vb="__closure_events_fn_"+(1E9*Math.random()>>>0),Jb=function(a){z(a,"Listener can not be null.");if(r(a))return a;z(a.handleEvent,"An object listener must have handleEvent method.");a[Vb]||(a[Vb]=function(b){return a.handleEvent(b)});return a[Vb]};var J=function(){D.call(this);this.Q=new Cb(this);this.Dd=this;this.Xb=null};v(J,D);J.prototype[xb]=!0;g=J.prototype;g.addEventListener=function(a,b,c,d){Ib(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){Qb(this,a,b,c,d)};
g.dispatchEvent=function(a){Wb(this);var b,c=this.Xb;if(c){b=[];for(var d=1;c;c=c.Xb)b.push(c),z(1E3>++d,"infinite loop")}c=this.Dd;d=a.type||a;if(q(a))a=new ib(a,c);else if(a instanceof ib)a.target=a.target||c;else{var e=a;a=new ib(d,c);Va(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.Ia&&0<=h;h--)f=a.currentTarget=b[h],e=Xb(f,d,!0,a)&&e;a.Ia||(f=a.currentTarget=c,e=Xb(f,d,!0,a)&&e,a.Ia||(e=Xb(f,d,!1,a)&&e));if(b)for(h=0;!a.Ia&&h<b.length;h++)f=a.currentTarget=b[h],e=Xb(f,d,!1,a)&&e;return e};
g.e=function(){J.p.e.call(this);this.Q&&this.Q.nb(void 0);this.Xb=null};g.Ma=function(a,b,c,d){Wb(this);return this.Q.add(String(a),b,!1,c,d)};g.gc=function(a,b,c,d){return this.Q.add(String(a),b,!0,c,d)};g.dc=function(a,b,c,d){return this.Q.remove(String(a),b,c,d)};var Xb=function(a,b,c,d){b=a.Q.o[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.Ea&&h.wb==c){var k=h.pa,t=h.ma||h.src;h.xb&&Eb(a.Q,h);e=!1!==k.call(t,d)&&e}}return e&&0!=d.Pc};
J.prototype.Ya=function(a,b,c,d){return this.Q.Ya(String(a),b,c,d)};var Wb=function(a){z(a.Q,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var Yb=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);},ac=function(a){var b=[];Zb(new $b,a,b);return b.join("")},$b=function(){this.Eb=void 0},Zb=function(a,b,c){switch(typeof b){case "string":bc(b,c);
break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(p(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Zb(a,a.Eb?a.Eb.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),bc(f,c),c.push(":"),Zb(a,a.Eb?a.Eb.call(b,f,e):e,c),d=","));c.push("}");
break;case "function":break;default:throw Error("Unknown type: "+typeof b);}},cc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},dc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,bc=function(a,b){b.push('"',a.replace(dc,function(a){if(a in cc)return cc[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return cc[a]=e+b.toString(16)}),'"')};var ec="StopIteration"in m?m.StopIteration:Error("StopIteration"),fc=function(){};fc.prototype.next=function(){throw ec;};fc.prototype.Nd=function(){return this};var K=function(a,b){this.T={};this.f=[];this.zb=this.j=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof K?(c=a.ba(),d=a.Y()):(c=Ta(a),d=Sa(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};K.prototype.Y=function(){gc(this);for(var a=[],b=0;b<this.f.length;b++)a.push(this.T[this.f[b]]);return a};K.prototype.ba=function(){gc(this);return this.f.concat()};
K.prototype.Va=function(a){return hc(this.T,a)};K.prototype.remove=function(a){return hc(this.T,a)?(delete this.T[a],this.j--,this.zb++,this.f.length>2*this.j&&gc(this),!0):!1};var gc=function(a){if(a.j!=a.f.length){for(var b=0,c=0;b<a.f.length;){var d=a.f[b];hc(a.T,d)&&(a.f[c++]=d);b++}a.f.length=c}if(a.j!=a.f.length){for(var e={},c=b=0;b<a.f.length;)d=a.f[b],hc(e,d)||(a.f[c++]=d,e[d]=1),b++;a.f.length=c}};g=K.prototype;g.get=function(a,b){return hc(this.T,a)?this.T[a]:b};
g.set=function(a,b){hc(this.T,a)||(this.j++,this.f.push(a),this.zb++);this.T[a]=b};g.forEach=function(a,b){for(var c=this.ba(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new K(this)};g.Nd=function(a){gc(this);var b=0,c=this.f,d=this.T,e=this.zb,f=this,h=new fc;h.next=function(){for(;;){if(e!=f.zb)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw ec;var h=c[b++];return a?h:d[h]}};return h};
var hc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ic=function(a){if("function"==typeof a.Y)return a.Y();if(q(a))return a.split("");if(ga(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Sa(a)},jc=function(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(ga(a)||q(a))Ha(a,b,void 0);else{var c;if("function"==typeof a.ba)c=a.ba();else if("function"!=typeof a.Y)if(ga(a)||q(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Ta(a);else c=void 0;for(var d=ic(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],
a)}};var kc=function(a,b){this.name=a;this.value=b};kc.prototype.toString=function(){return this.name};var lc=new kc("FINEST",300);var M=function(a){var b=L.b;b&&b.log(lc,a,void 0)},N=function(a,b,c){a&&a.Xd(b,c)},O=function(a,b,c){a&&a.Yd(b,c)},P=function(a){var b=L.b;b&&b.info(a,void 0)},Q=function(a,b){a&&a.Wd(b,void 0)};var mc=function(a){m.setTimeout(function(){throw a;},0)},nc,oc=function(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=s(function(a){if(("*"==
d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!x(F,"Trident")&&!x(F,"MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.ed;c.ed=null;a()}};return function(a){d.next={ed:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}};var uc=function(a,b){pc||qc();rc||(pc(),rc=!0);sc.push(new tc(a,b))},pc,qc=function(){if(m.Promise&&m.Promise.resolve){var a=m.Promise.resolve();pc=function(){a.then(vc)}}else pc=function(){var a=vc;!r(m.setImmediate)||m.Window&&m.Window.prototype.setImmediate==m.setImmediate?(nc||(nc=oc()),nc(a)):m.setImmediate(a)}},rc=!1,sc=[],vc=function(){for(;sc.length;){var a=sc;sc=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Pd.call(c.scope)}catch(d){mc(d)}}}rc=!1},tc=function(a,b){this.Pd=a;this.scope=
b};var wc=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},xc=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var Ac=function(a,b){this.g=0;this.X=void 0;this.G=this.q=null;this.yb=this.Yb=!1;try{var c=this;a.call(b,function(a){yc(c,2,a)},function(a){if(!(a instanceof zc))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}yc(c,3,a)})}catch(d){yc(this,3,d)}};
Ac.prototype.then=function(a,b,c){null!=a&&Fa(a,"opt_onFulfilled should be a function.");null!=b&&Fa(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return Bc(this,r(a)?a:null,r(b)?b:null,c)};wc(Ac);Ac.prototype.cancel=function(a){0==this.g&&uc(function(){var b=new zc(a);Cc(this,b)},this)};
var Cc=function(a,b){if(0==a.g)if(a.q){var c=a.q;if(c.G){for(var d=0,e=-1,f=0,h;h=c.G[f];f++)if(h=h.Wa)if(d++,h==a&&(e=f),0<=e&&1<d)break;0<=e&&(0==c.g&&1==d?Cc(c,b):(d=c.G.splice(e,1)[0],Dc(c,d,3,b)))}}else yc(a,3,b)},Fc=function(a,b){a.G&&a.G.length||2!=a.g&&3!=a.g||Ec(a);a.G||(a.G=[]);a.G.push(b)},Bc=function(a,b,c,d){var e={Wa:null,Wc:null,Xc:null};e.Wa=new Ac(function(a,h){e.Wc=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){h(l)}}:a;e.Xc=c?function(b){try{var e=c.call(d,b);!n(e)&&b instanceof
zc?h(b):a(e)}catch(l){h(l)}}:h});e.Wa.q=a;Fc(a,e);return e.Wa};Ac.prototype.Sc=function(a){z(1==this.g);this.g=0;yc(this,2,a)};Ac.prototype.Tc=function(a){z(1==this.g);this.g=0;yc(this,3,a)};
var yc=function(a,b,c){if(0==a.g){if(a==c)b=3,c=new TypeError("Promise cannot resolve to itself");else{if(xc(c)){a.g=1;c.then(a.Sc,a.Tc,a);return}if(ia(c))try{var d=c.then;if(r(d)){Gc(a,c,d);return}}catch(e){b=3,c=e}}a.X=c;a.g=b;Ec(a);3!=b||c instanceof zc||Hc(a,c)}},Gc=function(a,b,c){a.g=1;var d=!1,e=function(b){d||(d=!0,a.Sc(b))},f=function(b){d||(d=!0,a.Tc(b))};try{c.call(b,e,f)}catch(h){f(h)}},Ec=function(a){a.Yb||(a.Yb=!0,uc(a.Md,a))};
Ac.prototype.Md=function(){for(;this.G&&this.G.length;){var a=this.G;this.G=[];for(var b=0;b<a.length;b++)Dc(this,a[b],this.g,this.X)}this.Yb=!1};var Dc=function(a,b,c,d){if(2==c)b.Wc(d);else{if(b.Wa)for(;a&&a.yb;a=a.q)a.yb=!1;b.Xc(d)}},Hc=function(a,b){a.yb=!0;uc(function(){a.yb&&Ic.call(null,b)})},Ic=mc,zc=function(a){w.call(this,a)};v(zc,w);zc.prototype.name="cancel";var Jc=function(a,b){J.call(this);this.Ha=a||1;this.Ga=b||m;this.bc=s(this.Fd,this);this.cc=u()};v(Jc,J);g=Jc.prototype;g.enabled=!1;g.B=null;g.Fd=function(){if(this.enabled){var a=u()-this.cc;0<a&&a<.8*this.Ha?this.B=this.Ga.setTimeout(this.bc,this.Ha-a):(this.B&&(this.Ga.clearTimeout(this.B),this.B=null),this.dispatchEvent("tick"),this.enabled&&(this.B=this.Ga.setTimeout(this.bc,this.Ha),this.cc=u()))}};
g.start=function(){this.enabled=!0;this.B||(this.B=this.Ga.setTimeout(this.bc,this.Ha),this.cc=u())};g.stop=function(){this.enabled=!1;this.B&&(this.Ga.clearTimeout(this.B),this.B=null)};g.e=function(){Jc.p.e.call(this);this.stop();delete this.Ga};var Kc=function(a,b,c){if(r(a))c&&(a=s(a,c));else if(a&&"function"==typeof a.handleEvent)a=s(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)};var Lc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Nc=function(a){if(Mc){Mc=!1;var b=m.location;if(b){var c=b.href;if(c&&(c=(c=Nc(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw Mc=!0,Error();}}return a.match(Lc)},Mc=H,Oc=function(a){var b=Nc(a);a=b[1];var c=b[2],d=b[3],b=b[4],e="";a&&(e+=a+":");d&&(e+="//",c&&(e+=c+"@"),e+=d,b&&(e+=":"+b));return e};var Pc=function(){};Pc.prototype.dd=null;var Rc=function(a){var b;(b=a.dd)||(b={},Qc(a)&&(b[0]=!0,b[1]=!0),b=a.dd=b);return b};var Sc,Tc=function(){};v(Tc,Pc);var Uc=function(a){return(a=Qc(a))?new ActiveXObject(a):new XMLHttpRequest},Qc=function(a){if(!a.fd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.fd=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.fd};Sc=new Tc;var R=function(a){J.call(this);this.headers=new K;this.jb=a||null;this.ca=!1;this.fb=this.c=null;this.Qa=this.xc=this.ib="";this.la=this.Mb=this.cb=this.Ob=!1;this.Ra=0;this.gb=null;this.yc="";this.hb=this.md=!1};v(R,J);var Vc=/^https?$/i,Wc=["POST","PUT"],Xc=[];R.prototype.Hd=function(){this.Db();La(Xc,this)};
R.prototype.send=function(a,b,c,d){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.ib+"; newUri="+a);b=b?b.toUpperCase():"GET";this.ib=a;this.Qa="";this.xc=b;this.Ob=!1;this.ca=!0;this.c=this.jb?Uc(this.jb):Uc(Sc);this.fb=this.jb?Rc(this.jb):Rc(Sc);this.c.onreadystatechange=s(this.Bc,this);try{Q(this.J,S(this,"Opening Xhr")),this.Mb=!0,this.c.open(b,String(a),!0),this.Mb=!1}catch(e){Q(this.J,S(this,"Error opening Xhr: "+e.message));this.kb(5,e);return}a=c||"";
var f=this.headers.clone();d&&jc(d,function(a,b){f.set(b,a)});d=Ka(f.ba());c=m.FormData&&a instanceof m.FormData;!(0<=Ga(Wc,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.c.setRequestHeader(b,a)},this);this.yc&&(this.c.responseType=this.yc);"withCredentials"in this.c&&(this.c.withCredentials=this.md);try{Yc(this),0<this.Ra&&(this.hb=Zc(this.c),Q(this.J,S(this,"Will abort after "+this.Ra+"ms if incomplete, xhr2 "+this.hb)),this.hb?(this.c.timeout=
this.Ra,this.c.ontimeout=s(this.Cc,this)):this.gb=Kc(this.Cc,this.Ra,this)),Q(this.J,S(this,"Sending request")),this.cb=!0,this.c.send(a),this.cb=!1}catch(h){Q(this.J,S(this,"Send error: "+h.message)),this.kb(5,h)}};var Zc=function(a){return G&&I(9)&&ha(a.timeout)&&n(a.ontimeout)},Ja=function(a){return"content-type"==a.toLowerCase()};
R.prototype.Cc=function(){"undefined"!=typeof ba&&this.c&&(this.Qa="Timed out after "+this.Ra+"ms, aborting",Q(this.J,S(this,this.Qa)),this.dispatchEvent("timeout"),this.abort(8))};R.prototype.kb=function(a,b){this.ca=!1;this.c&&(this.la=!0,this.c.abort(),this.la=!1);this.Qa=b;$c(this);ad(this)};var $c=function(a){a.Ob||(a.Ob=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
R.prototype.abort=function(){this.c&&this.ca&&(Q(this.J,S(this,"Aborting")),this.ca=!1,this.la=!0,this.c.abort(),this.la=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ad(this))};R.prototype.e=function(){this.c&&(this.ca&&(this.ca=!1,this.la=!0,this.c.abort(),this.la=!1),ad(this,!0));R.p.e.call(this)};R.prototype.Bc=function(){this.U||(this.Mb||this.cb||this.la?bd(this):this.Cd())};R.prototype.Cd=function(){bd(this)};
var bd=function(a){if(a.ca&&"undefined"!=typeof ba)if(a.fb[1]&&4==cd(a)&&2==dd(a))Q(a.J,S(a,"Local request error detected and ignored"));else if(a.cb&&4==cd(a))Kc(a.Bc,0,a);else if(a.dispatchEvent("readystatechange"),4==cd(a)){Q(a.J,S(a,"Request complete"));a.ca=!1;try{if(ed(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<cd(a)?a.c.statusText:""}catch(c){Q(a.J,"Can not get status: "+c.message),b=""}a.Qa=b+" ["+dd(a)+"]";$c(a)}}finally{ad(a)}}},ad=function(a,b){if(a.c){Yc(a);
var c=a.c,d=a.fb[0]?ea:null;a.c=null;a.fb=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){N(a.J,"Problem encountered resetting onreadystatechange: "+e.message)}}},Yc=function(a){a.c&&a.hb&&(a.c.ontimeout=null);ha(a.gb)&&(m.clearTimeout(a.gb),a.gb=null)};R.prototype.$b=function(){return!!this.c};
var ed=function(a){var b=dd(a),c;t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break t;default:c=!1}if(!c){if(b=0===b)a=Nc(String(a.ib))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Vc.test(a?a.toLowerCase():"");c=b}return c},cd=function(a){return a.c?a.c.readyState:0},dd=function(a){try{return 2<cd(a)?a.c.status:-1}catch(b){return-1}},fd=function(a){try{return a.c?a.c.responseText:""}catch(b){return Q(a.J,"Can not get responseText: "+
b.message),""}},S=function(a,b){return b+" ["+a.xc+" "+a.ib+" "+dd(a)+"]"};var gd=function(a,b){var c;if(a instanceof gd)this.C=n(b)?b:a.C,this.ub(a.sb()),c=a.oa,T(this),this.oa=c,c=a.$,T(this),this.$=c,hd(this,a.Fa),c=a.S,T(this),this.S=c,id(this,a.D.clone()),c=a.na,T(this),this.na=c;else if(a&&(c=Nc(String(a)))){this.C=!!b;this.ub(c[1]||"",!0);var d=c[2]||"";T(this);this.oa=jd(d);d=c[3]||"";T(this);this.$=jd(d,!0);hd(this,c[4]);d=c[5]||"";T(this);this.S=jd(d,!0);id(this,c[6]||"",!0);c=c[7]||"";T(this);this.na=jd(c)}else this.C=!!b,this.D=new kd(null,0,this.C)};g=gd.prototype;
g.Ja="";g.oa="";g.$="";g.Fa=null;g.S="";g.na="";g.Rd=!1;g.C=!1;g.toString=function(){var a=[],b=this.sb();b&&a.push(ld(b,md,!0),":");if(b=this.$){a.push("//");var c=this.oa;c&&a.push(ld(c,md,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.Fa;null!=b&&a.push(":",String(b))}if(b=this.S)this.$&&"/"!=b.charAt(0)&&a.push("/"),a.push(ld(b,"/"==b.charAt(0)?nd:od,!0));(b=this.D.toString())&&a.push("?",b);(b=this.na)&&a.push("#",ld(b,pd));return a.join("")};
g.resolve=function(a){var b=this.clone(),c=a.Oc();c?b.ub(a.sb()):c=!!a.oa;if(c){var d=a.oa;T(b);b.oa=d}else c=!!a.$;c?(d=a.$,T(b),b.$=d):c=null!=a.Fa;d=a.S;if(c)hd(b,a.Fa);else if(c=!!a.S){if("/"!=d.charAt(0))if(this.$&&!this.S)d="/"+d;else{var e=b.S.lastIndexOf("/");-1!=e&&(d=b.S.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(x(e,"./")||x(e,"/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&f.push(""):".."==k?((1<f.length||1==f.length&&
""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(T(b),b.S=d):c=""!==a.D.toString();c?id(b,jd(a.D.toString())):c=!!a.na;c&&(a=a.na,T(b),b.na=a);return b};g.clone=function(){return new gd(this)};g.sb=function(){return this.Ja};g.ub=function(a,b){T(this);if(this.Ja=b?jd(a,!0):a)this.Ja=this.Ja.replace(/:$/,"");return this};g.Oc=function(){return!!this.Ja};
var hd=function(a,b){T(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Fa=b}else a.Fa=null},id=function(a,b,c){T(a);b instanceof kd?(a.D=b,a.D.ec(a.C)):(c||(b=ld(b,qd)),a.D=new kd(b,0,a.C))},T=function(a){if(a.Rd)throw Error("Tried to modify a read-only Uri");};gd.prototype.ec=function(a){this.C=a;this.D&&this.D.ec(a);return this};
var jd=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""},ld=function(a,b,c){return q(a)?(a=encodeURI(a).replace(b,rd),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},rd=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},md=/[#\/\?@]/g,od=/[\#\?:]/g,nd=/[\#\?]/g,qd=/[\#\?@]/g,pd=/#/g,kd=function(a,b,c){this.F=a||null;this.C=!!c},td=function(a){if(!a.h&&(a.h=new K,a.j=0,a.F))for(var b=a.F.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=
null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=sd(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}};g=kd.prototype;g.h=null;g.j=null;g.add=function(a,b){td(this);this.F=null;a=sd(this,a);var c=this.h.get(a);c||this.h.set(a,c=[]);c.push(b);this.j++;return this};g.remove=function(a){td(this);a=sd(this,a);return this.h.Va(a)?(this.F=null,this.j-=this.h.get(a).length,this.h.remove(a)):!1};
g.Va=function(a){td(this);a=sd(this,a);return this.h.Va(a)};g.ba=function(){td(this);for(var a=this.h.Y(),b=this.h.ba(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.Y=function(a){td(this);var b=[];if(q(a))this.Va(a)&&(b=Na(b,this.h.get(sd(this,a))));else{a=this.h.Y();for(var c=0;c<a.length;c++)b=Na(b,a[c])}return b};g.set=function(a,b){td(this);this.F=null;a=sd(this,a);this.Va(a)&&(this.j-=this.h.get(a).length);this.h.set(a,[b]);this.j++;return this};
g.get=function(a,b){var c=a?this.Y(a):[];return 0<c.length?String(c[0]):b};g.toString=function(){if(this.F)return this.F;if(!this.h)return"";for(var a=[],b=this.h.ba(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Y(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.F=a.join("&")};g.clone=function(){var a=new kd;a.F=this.F;this.h&&(a.h=this.h.clone(),a.j=this.j);return a};
var sd=function(a,b){var c=String(b);a.C&&(c=c.toLowerCase());return c};kd.prototype.ec=function(a){a&&!this.C&&(td(this),this.F=null,this.h.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.F=null,this.h.set(sd(this,d),Oa(a)),this.j+=a.length))},this));this.C=a};var ud=function(a,b,c,d){a=new gd(a);0!=b&&(T(a),a.D.set("authuser",b));null!=c&&(T(a),a.D.set("service",c));this.Ad=a.toString();this.ma=d;this.zd=0};ud.prototype.start=function(){};ud.prototype.send=function(a,b){var c=this.Ad,d=s(this.$c,this,this.zd++),e=new R;Xc.push(e);d&&e.Ma("complete",d);e.gc("ready",e.Hd);e.send(c,"POST",a,b)};ud.prototype.$c=function(a,b){var c=b.target;ed(c)?this.ma.qa.send("ss",[a]):(c=fd(c),this.ma.qa.send("sf",[a,c]))};var vd=function(a,b,c){D.call(this);this.Wb=a;this.Ha=b||0;this.Da=c;this.Bd=s(this.Gd,this)};v(vd,D);g=vd.prototype;g.K=0;g.e=function(){vd.p.e.call(this);this.stop();delete this.Wb;delete this.Da};g.start=function(a){this.stop();this.K=Kc(this.Bd,n(a)?a:this.Ha)};g.stop=function(){this.$b()&&m.clearTimeout(this.K);this.K=0};g.$b=function(){return 0!=this.K};g.Gd=function(){this.K=0;this.Wb&&this.Wb.call(this.Da)};!ob&&!G||G&&G&&9<=tb||ob&&I("1.9.1");G&&I("9");var wd=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},xd=function(a){this.Ub=a||m.document||document};xd.prototype.createElement=function(a){return this.Ub.createElement(a)};xd.prototype.d=function(){var a=this.Ub;return a.parentWindow||a.defaultView};xd.prototype.appendChild=function(a,b){a.appendChild(b)};var U=function(a){D.call(this);this.Da=a;this.f={}};v(U,D);var yd=[];U.prototype.Ma=function(a,b,c,d){p(b)||(b&&(yd[0]=b.toString()),b=yd);for(var e=0;e<b.length;e++){var f=Ib(a,b[e],c||this.handleEvent,d||!1,this.Da||this);if(!f)break;this.f[f.key]=f}return this};U.prototype.gc=function(a,b,c,d){return zd(this,a,b,c,d)};var zd=function(a,b,c,d,e,f){if(p(c))for(var h=0;h<c.length;h++)zd(a,b,c[h],d,e,f);else{b=Pb(b,c,d||a.handleEvent,e,f||a.Da||a);if(!b)return a;a.f[b.key]=b}return a};
U.prototype.dc=function(a,b,c,d,e){if(p(b))for(var f=0;f<b.length;f++)this.dc(a,b[f],c,d,e);else if(a=Sb(a,b,c||this.handleEvent,d,e||this.Da||this))Rb(a),delete this.f[a.key];return this};U.prototype.nb=function(){Ra(this.f,Rb);this.f={}};U.prototype.e=function(){U.p.e.call(this);this.nb()};U.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var Ad=function(){D.call(this);this.Ib={}};v(Ad,D);Ad.prototype.O=function(a){a&&a()};Ad.prototype.w=function(){return!0};Ad.prototype.e=function(){Ad.p.e.call(this);delete this.b;delete this.Ib;delete this.mc};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var V=function(a,b){this.V=[];this.Ic=a;this.Ec=b||null;this.Ua=this.A=!1;this.X=void 0;this.Vb=this.Fc=this.Sb=!1;this.qb=0;this.q=null;this.ob=0};V.prototype.cancel=function(a){if(this.A)this.X instanceof V&&this.X.cancel();else{if(this.q){var b=this.q;delete this.q;a?b.cancel(a):(b.ob--,0>=b.ob&&b.cancel())}this.Ic?this.Ic.call(this.Ec,this):this.Vb=!0;this.A||this.Nc(new Bd)}};V.prototype.Jc=function(a,b){this.Sb=!1;Cd(this,a,b)};
var Cd=function(a,b,c){a.A=!0;a.X=c;a.Ua=!b;Dd(a)},Fd=function(a){if(a.A){if(!a.Vb)throw new Ed;a.Vb=!1}};V.prototype.v=function(a){Fd(this);Gd(a);Cd(this,!0,a)};V.prototype.Nc=function(a){Fd(this);Gd(a);Cd(this,!1,a)};var Gd=function(a){z(!(a instanceof V),"An execution sequence may not be initiated with a blocking Deferred.")},Id=function(a,b,c){Hd(a,b,null,c)},Hd=function(a,b,c,d){z(!a.Fc,"Blocking Deferreds can not be re-used");a.V.push([b,c,d]);a.A&&Dd(a)};
V.prototype.then=function(a,b,c){var d,e,f=new Ac(function(a,b){d=a;e=b});Hd(this,d,function(a){a instanceof Bd?f.cancel():e(a)});return f.then(a,b,c)};wc(V);var Jd=function(a,b){b instanceof V?Id(a,s(b.Od,b)):Id(a,function(){return b})};V.prototype.Od=function(a){var b=new V;Hd(this,b.v,b.Nc,b);a&&(b.q=this,this.ob++);return b};
var Kd=function(a){return Ia(a.V,function(a){return r(a[1])})},Dd=function(a){if(a.qb&&a.A&&Kd(a)){var b=a.qb,c=Ld[b];c&&(m.clearTimeout(c.K),delete Ld[b]);a.qb=0}a.q&&(a.q.ob--,delete a.q);for(var b=a.X,d=c=!1;a.V.length&&!a.Sb;){var e=a.V.shift(),f=e[0],h=e[1],e=e[2];if(f=a.Ua?h:f)try{var k=f.call(e||a.Ec,b);n(k)&&(a.Ua=a.Ua&&(k==b||k instanceof Error),a.X=b=k);xc(b)&&(d=!0,a.Sb=!0)}catch(t){b=t,a.Ua=!0,Kd(a)||(c=!0)}}a.X=b;d&&(k=s(a.Jc,a,!0),d=s(a.Jc,a,!1),b instanceof V?(Hd(b,k,d),b.Fc=!0):b.then(k,
d));c&&(b=new Md(b),Ld[b.K]=b,a.qb=b.K)},Ed=function(){w.call(this)};v(Ed,w);Ed.prototype.message="Deferred has already fired";Ed.prototype.name="AlreadyCalledError";var Bd=function(){w.call(this)};v(Bd,w);Bd.prototype.message="Deferred was canceled";Bd.prototype.name="CanceledError";var Md=function(a){this.K=m.setTimeout(s(this.Id,this),0);this.kb=a};Md.prototype.Id=function(){z(Ld[this.K],"Cannot throw an error that is not scheduled.");delete Ld[this.K];throw this.kb;};var Ld={};var L={};var Nd={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport",7:"DirectTransport"},Od=["pu","lru","pru","lpu","ppu"],W={},Qd=function(){for(var a=10,b=Pd,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d},Pd="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var X=function(a){D.call(this);this.R=a||pa||(pa=new xd)};v(X,D);X.prototype.sa=0;X.prototype.d=function(){return this.R.d()};X.prototype.getName=function(){return Nd[String(this.sa)]||""};var Sd=function(a,b){X.call(this,b);this.a=a;this.ua=new U(this);hb(this,oa(E,this.ua));this.N=new Jc(100,this.d());hb(this,oa(E,this.N));this.m=new V;this.n=new V;this.l=new V;this.Hb=Qd();this.aa=null;this.ta={};this.gd=this.a.name;Rd(this.a,this.a.name+"_"+Y(this.a));this.M=!1;Jd(this.l,this.m);Jd(this.l,this.n);Id(this.l,this.ab,this);this.l.v(!0);this.ua.Ma(this.N,"tick",this.Ka);P("DirectTransport created. role="+Y(this.a))};v(Sd,X);
var Td={},Wd=function(a){var b=new Ud(a.channelName,a.service,a.payload);a=b.Nb;var c=b.Oa,b=b.ja;Q(L.b,"messageReceived: channel="+a+", service="+c+", payload="+b);var d=W[a];if(d)return d.H(c,b),!0;var d=Vd(b)[0],e;for(e in W){var f=W[e];if(1==Y(f)&&!f.w()&&"tp"==c&&"SETUP"==d)return Rd(f,a),f.H(c,b),!0}P("channel name mismatch; message ignored.");return!1};g=Sd.prototype;g.sa=7;
g.eb=function(a){a=Vd(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.m.A||this.m.v(!0);break;case "SETUP":this.tb(),null!=this.aa&&this.aa!=b&&(P("Sending SETUP and changing peer ID to: "+b),this.Pa()),this.aa=b}};g.Pa=function(){var a;a="SETUP,"+this.Hb;this.send("tp",a)};g.tb=function(){this.send("tp","SETUP_ACK");this.n.A||this.n.v(!0)};
g.O=function(){var a=this.d();if(a){var b=la(a);0==(Td[b]||0)&&null==da("crosswindowmessaging.channel",a)&&ca("crosswindowmessaging.channel",Wd,a);Td[b]++;this.M=!0;this.Ka()}else Q(L.b,"connect(): no window to initialize.")};g.Ka=function(){this.a.w()?this.N.stop():(this.N.start(),this.Pa())};g.send=function(a,b){if(this.a.t){var c=new Ud(this.gd+"_"+(0==Y(this.a)?1:0),a,b);this.a.i.directSyncMode?this.Ac(c):this.ta[la(c)]=Kc(s(this.Ac,this,c),0)}else Q(L.b,"send(): window not ready")};
g.Ac=function(a){var b=la(a);this.ta[b]&&delete this.ta[b];try{var c=da("crosswindowmessaging.channel",this.a.t)}catch(d){O(L.b,"Can't access other window, ignoring.",d);return}if(null===c)O(L.b,"Peer window had no global function.");else try{c({channelName:a.Nb,service:a.Oa,payload:a.ja}),P("send(): channelName="+a.Nb+" service="+a.Oa+" payload="+a.ja)}catch(e){O(L.b,"Error performing call, ignoring.",e)}};g.ab=function(){this.a.P(0)};
g.e=function(){if(this.M){var a=this.d(),b=la(a);1==--Td[b]&&ca("crosswindowmessaging.channel",null,a)}this.ta&&(Ra(this.ta,function(a){m.clearTimeout(a)}),this.ta=null);this.m&&(this.m.cancel(),delete this.m);this.n&&(this.n.cancel(),delete this.n);this.l&&(this.l.cancel(),delete this.l);Sd.p.e.call(this)};var Vd=function(a){a=a.split(",");a[1]=a[1]||null;return a},Ud=function(a,b,c){this.Nb=a;this.Oa=b;this.ja=c};var Xd=function(a,b){X.call(this,b);this.a=a;this.Ta=[];this.rd=s(this.xd,this)};v(Xd,X);g=Xd.prototype;g.sa=2;g.Qb=!1;g.B=0;g.O=function(){0==Y(this.a)?(this.W=this.a.va,this.W.XPC_toOuter=s(this.tc,this)):this.sc()};
g.sc=function(){var a=!0;try{this.W||(this.W=this.d().frameElement),this.W&&this.W.XPC_toOuter&&(this.Jb=this.W.XPC_toOuter,this.W.XPC_toOuter.XPC_toInner=s(this.tc,this),a=!1,this.send("tp","SETUP_ACK"),this.a.P())}catch(b){N(L.b,"exception caught while attempting setup: "+b)}a&&(this.wc||(this.wc=s(this.sc,this)),this.d().setTimeout(this.wc,100))};
g.eb=function(a){if(0!=Y(this.a)||this.a.w()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.Jb=this.W.XPC_toOuter.XPC_toInner;this.a.P()};g.tc=function(a,b){this.Qb||0!=this.Ta.length?(this.Ta.push({ud:a,ja:b}),1==this.Ta.length&&(this.B=this.d().setTimeout(this.rd,1))):this.a.H(a,b)};g.xd=function(){for(;this.Ta.length;){var a=this.Ta.shift();this.a.H(a.ud,a.ja)}};g.send=function(a,b){this.Qb=!0;this.Jb(a,b);this.Qb=!1};g.e=function(){Xd.p.e.call(this);this.W=this.Jb=null};var Z=function(a,b){X.call(this,b);this.a=a;this.Na=this.a.i.ppu;this.vd=this.a.i.lpu;this.pb=[]},Yd,Zd;v(Z,X);g=Z.prototype;g.hd=5;g.sa=4;g.V=0;g.ya=!1;g.M=!1;g.nc=null;var $d=function(a){return"googlexpc_"+a.a.name+"_msg"},ae=function(a){return"googlexpc_"+a.a.name+"_ack"},ce=function(a){try{if(!a.U&&be(a.a))return a.a.t.frames||{}}catch(b){Q(L.b,"error retrieving peer frames")}return{}},de=function(a,b){return ce(a)[b]};
Z.prototype.O=function(){if(!this.U&&be(this.a)){Q(L.b,"transport connect called");if(!this.M){Q(L.b,"initializing...");var a=$d(this);this.xa=ee(this,a);this.Gb=this.d().frames[a];a=ae(this);this.wa=ee(this,a);this.Fb=this.d().frames[a];this.M=!0}if(fe(this,$d(this))&&fe(this,ae(this)))Q(L.b,"foreign frames present"),this.kc=new ge(this,de(this,$d(this)),s(this.kd,this)),this.jc=new ge(this,de(this,ae(this)),s(this.jd,this)),this.lc();else{M("foreign frames not (yet) present");if(1==Y(this.a))this.nc||
0<this.hd--||(M("Inner peer reconnect triggered."),Rd(this.a,Qd()),M("switching channels: "+this.a.name),he(this),this.M=!1,this.nc=ee(this,"googlexpc_reconnect_"+this.a.name));else if(0==Y(this.a)){M("outerPeerReconnect called");for(var a=ce(this),b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(e){}if(d){var f=d.split("_");if(3==f.length&&"googlexpc"==f[0]&&"reconnect"==f[1]){this.a.name=f[2];he(this);this.M=!1;break}}}}this.d().setTimeout(s(this.O,this),100)}}};
var ee=function(a,b){M("constructing sender frame: "+b);var c;c=document.createElement("iframe");var d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.Na+"#INITIAL";a.d().document.body.appendChild(c);return c},he=function(a){M("deconstructSenderFrames called");a.xa&&(a.xa.parentNode.removeChild(a.xa),a.xa=null,a.Gb=null);a.wa&&(a.wa.parentNode.removeChild(a.wa),a.wa=null,a.Fb=null)},fe=function(a,b){M("checking for receive frame: "+b);try{var c=
de(a,b);if(!c||0!=c.location.href.indexOf(a.vd))return!1}catch(d){return!1}return!0};Z.prototype.lc=function(){var a=ce(this);a[ae(this)]&&a[$d(this)]?(this.Dc=new ie(this.Na,this.Gb),this.bb=new ie(this.Na,this.Fb),Q(L.b,"local frames ready"),this.d().setTimeout(s(function(){this.Dc.send("SETUP");this.ya=!0;Q(L.b,"SETUP sent")},this),100)):(this.Gc||(this.Gc=s(this.lc,this)),this.d().setTimeout(this.Gc,100),Q(L.b,"local frames not (yet) present"))};
var je=function(a){if(a.Lb&&a.qc){if(a.a.P(),a.Aa){Q(L.b,"delivering queued messages ("+a.Aa.length+")");for(var b=0,c;b<a.Aa.length;b++)c=a.Aa[b],a.a.H(c.Oa,c.ja);delete a.Aa}}else M("checking if connected: ack sent:"+a.Lb+", ack rcvd: "+a.qc)};
Z.prototype.kd=function(a){M("msg received: "+a);if("SETUP"==a)this.bb&&(this.bb.send("SETUP_ACK"),M("SETUP_ACK sent"),this.Lb=!0,je(this));else if(this.a.w()||this.Lb){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b){var d;this.bb.send("ACK:"+c);ke(this,a)}else d=c.substring(0,b),this.bb.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.Rb=[]),this.Rb.push(a),b==c&&(ke(this,this.Rb.join("")),delete this.Rb)}else O(L.b,
"received msg, but channel is not connected")};Z.prototype.jd=function(a){M("ack received: "+a);"SETUP_ACK"==a?(this.ya=!1,this.qc=!0,je(this)):this.a.w()?this.ya?parseInt(a.split(":")[1],10)==this.V?(this.ya=!1,le(this)):O(L.b,"got ack with wrong sequence"):O(L.b,"got unexpected ack"):O(L.b,"received ack, but channel not connected")};
var le=function(a){if(!a.ya&&a.pb.length){var b=a.pb.shift();++a.V;a.Dc.send(a.V+b);M("msg sent: "+a.V+b);a.ya=!0}},ke=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),c=b.substring(c+1);a.a.w()?a.a.H(d,c):((a.Aa||(a.Aa=[])).push({Oa:d,ja:c}),M("queued delivery"))};Z.prototype.Cb=3800;
Z.prototype.send=function(a,b){var c=a+":"+b;if(!G||b.length<=this.Cb)this.pb.push("|"+c);else for(var d=b.length,e=Math.ceil(d/this.Cb),f=0,h=1;f<d;)this.pb.push(","+h+"/"+e+"|"+c.substr(f,this.Cb)),h++,f+=this.Cb;le(this)};Z.prototype.e=function(){Z.p.e.call(this);var a=me;La(a,this.kc);La(a,this.jc);this.kc=this.jc=null;wd(this.xa);wd(this.wa);this.Gb=this.Fb=this.xa=this.wa=null};
var me=[],ne=s(function(){var a=me,b,c=!1;try{for(var d=0;b=a[d];d++){var e;if(!(e=c)){var f=b,h=f.Mc.location.href;if(h!=f.Lc){f.Lc=h;var k=h.split("#")[1];k&&(k=k.substr(1),f.wd(decodeURIComponent(k)));e=!0}else e=!1}c=e}}catch(t){if(P("receive_() failed: "+t),b=b.k.a,P("Transport Error"),b.close(),!a.length)return}a=u();c&&(Yd=a);Zd=window.setTimeout(ne,1E3>a-Yd?10:100)},Z),oe=function(){Q(L.b,"starting receive-timer");Yd=u();Zd&&window.clearTimeout(Zd);Zd=window.setTimeout(ne,10)},ie=function(a,
b){this.Na=a;this.Qc=b;this.ac=0};ie.prototype.send=function(a){this.ac=++this.ac%2;a=this.Na+"#"+this.ac+encodeURIComponent(a);try{H?this.Qc.location.href=a:this.Qc.location.replace(a)}catch(b){N(L.b,"sending failed",b)}oe()};var ge=function(a,b,c){this.k=a;this.Mc=b;this.wd=c;this.Lc=this.Mc.location.href.split("#")[0]+"#INITIAL";me.push(this);oe()};var pe=Wa("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));var re=function(){this.lb="";this.Ld=qe};re.prototype.Ca=!0;re.prototype.Ba=function(){return this.lb};re.prototype.toString=function(){return"Const{"+this.lb+"}"};var se=function(a){if(a instanceof re&&a.constructor===re&&a.Ld===qe)return a.lb;Da("expected object of type Const, got '"+a+"'");return"type_error:Const"},qe={};var ue=function(){this.mb="";this.nd=te};ue.prototype.Ca=!0;var te={};ue.prototype.Ba=function(){return this.mb};ue.prototype.toString=function(){return"SafeStyle{"+this.mb+"}"};var ve=function(a){var b=new ue;b.mb=a;return b},we=ve(""),xe=/^[-.%_!# a-zA-Z0-9]+$/;var ze=function(){this.ea="";this.od=ye};g=ze.prototype;g.Ca=!0;g.Ba=function(){return this.ea};g.fc=!0;g.Sa=function(){return 1};g.toString=function(){return"SafeUrl{"+this.ea+"}"};var ye={};var Be=function(){this.Pb="";this.pd=Ae};g=Be.prototype;g.Ca=!0;g.Ba=function(){return this.Pb};g.fc=!0;g.Sa=function(){return 1};g.toString=function(){return"TrustedResourceUrl{"+this.Pb+"}"};var Ae={};var De=function(){this.ea="";this.Kd=Ce;this.cd=null};g=De.prototype;g.fc=!0;g.Sa=function(){return this.cd};g.Ca=!0;g.Ba=function(){return this.ea};g.toString=function(){return"SafeHtml{"+this.ea+"}"};
var Ee=function(a){if(a instanceof De&&a.constructor===De&&a.Kd===Ce)return a.ea;Da("expected object of type SafeHtml, got '"+a+"'");return"type_error:SafeHtml"},Fe=/^[a-zA-Z0-9-]+$/,Ge=Wa("action","cite","data","formaction","href","manifest","poster","src"),He=Wa("link","script","style"),Je=function(a){var b=0,c="",d=function(a){if(p(a))Ha(a,d);else{if(!(a instanceof De)){var f=null;a.fc&&(f=a.Sa());a=Ie(za(a.Ca?a.Ba():String(a)),f)}c+=Ee(a);a=a.Sa();0==b?b=a:0!=a&&b!=a&&(b=null)}};Ha(arguments,
d);return Ie(c,b)},Ce={},Ie=function(a,b){var c=new De;c.ea=a;c.cd=b;return c};Ie("",0);var Le=function(a,b){X.call(this,b);this.a=a;this.ld=this.a.i.pru;this.uc=this.a.i.ifrid;H&&Ke()};v(Le,X);if(H)var Me=[],Ne=0,Ke=function(){Ne||(Ne=window.setTimeout(function(){Oe()},1E3))},Oe=function(a){var b=u();for(a=a||3E3;Me.length&&b-Me[0].timestamp>=a;){var c=Me.shift().qd;wd(c);M("iframe removed")}Ne=window.setTimeout(Pe,1E3)},Pe=function(){Oe()};var Qe={};Le.prototype.sa=3;Le.prototype.O=function(){this.d().xpcRelay||(this.d().xpcRelay=Re);this.send("tp","SETUP")};
var Re=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),e=b.substr(c+1);if(G&&-1!=(c=d.indexOf("|"))){var f=d.substr(0,c),d=d.substr(c+1),c=d.indexOf("+"),h=d.substr(0,c),c=parseInt(d.substr(c+1),10),k=Qe[h];k||(k=Qe[h]={Zc:[],ad:0,Yc:0});x(d,"++")&&(k.Yc=c+1);k.Zc[c]=e;k.ad++;if(k.ad!=k.Yc)return;e=k.Zc.join("");delete Qe[h]}else var f=d;W[a].H(f,decodeURIComponent(e))};Le.prototype.eb=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),this.a.P()):"SETUP_ACK"==a&&this.a.P()};
Le.prototype.send=function(a,b){var c=encodeURIComponent(b),d=c.length;if(G&&1800<d)for(var e=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^u()).toString(36),f=0,h=0;f<d;h++){var k=c.substr(f,1800),f=f+1800;Se(this,a,k,e+(f>=d?"++":"+")+h)}else Se(this,a,c)};
var Se=function(a,b,c,d){if(G){var e=a.d().document.createElement("div"),f;f=new re;f.lb="this.xpcOnload()";f={onload:f};if(!Fe.test("iframe"))throw Error("Invalid tag name <iframe>.");if("iframe"in He)throw Error("Tag name <iframe> is not allowed for SafeHtml.");var h=null,k="<iframe";if(f)for(var t in f){if(!Fe.test(t))throw Error('Invalid attribute name "'+t+'".');var l=f[t];if(null!=l){var C;C=t;if(l instanceof re)l=se(l);else if("style"==C.toLowerCase()){if(!ia(l))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+
typeof l+" given: "+l);if(!(l instanceof ue)){var y="",Ma=void 0;for(Ma in l){if(!/^[-_a-zA-Z0-9]+$/.test(Ma))throw Error("Name allows only [-_a-zA-Z0-9], got: "+Ma);var aa=l[Ma];null!=aa&&(aa instanceof re?(aa=se(aa),z(!/[{;}]/.test(aa),"Value does not allow [{;}].")):xe.test(aa)||(Da("String value allows only [-.%_!# a-zA-Z0-9], got: "+aa),aa="zClosurez"),y+=Ma+":"+aa+";")}y?(z(!/[<>]/.test(y),"Forbidden characters in style string: "+y),l=ve(y)):l=we}y=void 0;l instanceof ue&&l.constructor===ue&&
l.nd===te?y=l.mb:(Da("expected object of type SafeStyle, got '"+l+"'"),y="type_error:SafeStyle");l=y}else{if(/^on/i.test(C))throw Error('Attribute "'+C+'" requires goog.string.Const value, "'+l+'" given.');if(C.toLowerCase()in Ge)if(l instanceof Be)l instanceof Be&&l.constructor===Be&&l.pd===Ae?l=l.Pb:(Da("expected object of type TrustedResourceUrl, got '"+l+"'"),l="type_error:TrustedResourceUrl");else if(l instanceof ze)l instanceof ze&&l.constructor===ze&&l.od===ye?l=l.ea:(Da("expected object of type SafeUrl, got '"+
l+"'"),l="type_error:SafeUrl");else throw Error('Attribute "'+C+'" on tag "iframe" requires goog.html.SafeUrl or goog.string.Const value, "'+l+'" given.');}l.Ca&&(l=l.Ba());z(q(l)||ha(l),"String or number value expected, got "+typeof l+" with value: "+l);C=C+'="'+za(String(l))+'"';k+=" "+C}}t=void 0;n(t)?p(t)||(t=[t]):t=[];!0===pe.iframe?(z(!t.length,"Void tag <iframe> does not allow content."),k+=">"):(h=Je(t),k+=">"+Ee(h)+"</iframe>",h=h.Sa());(f=f&&f.dir)&&(h=/^(ltr|rtl|auto)$/i.test(f)?0:null);
f=Ie(k,h);e.innerHTML=Ee(f);e=e.childNodes[0];e.xpcOnload=Te}else e=a.d().document.createElement("iframe"),H?Me.push({timestamp:u(),qd:e}):Ib(e,"load",Te);f=e.style;f.visibility="hidden";f.width=e.style.height="0px";f.position="absolute";f=a.ld;f+="#"+a.a.name;a.uc&&(f+=","+a.uc);f+="|"+b;d&&(f+="|"+d);f+=":"+c;e.src=f;a.d().document.body.appendChild(e);M("msg sent: "+f)},Te=function(){M("iframe-load");wd(this)};Le.prototype.e=function(){Le.p.e.call(this);H&&Oe(0)};var $=function(a,b,c,d,e){X.call(this,c);this.a=a;this.I=e||2;z(1<=this.I);z(2>=this.I);this.ic=b||"*";this.ua=new U(this);this.N=new Jc(100,this.d());this.$a=!!d;this.m=new V;this.n=new V;this.l=new V;this.Hb=Qd();this.aa=null;this.$a?1==Y(this.a)?Jd(this.l,this.m):Jd(this.l,this.n):(Jd(this.l,this.m),2==this.I&&Jd(this.l,this.n));Id(this.l,this.ab,this);this.l.v(!0);this.ua.Ma(this.N,"tick",this.Ka);P("NativeMessagingTransport created.  protocolVersion="+this.I+", oneSidedHandshake="+this.$a+", role="+
Y(this.a))};v($,X);$.prototype.r=null;$.prototype.M=!1;$.prototype.sa=1;var Ue={};$.prototype.La=0;
var We=function(a){var b=a.vb.data;if(!q(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);Q(L.b,"messageReceived: channel="+e+", service="+c+", payload="+b);if(d=W[e])return d.H(c,b,a.vb.origin),!0;a=Ve(b)[0];for(var f in W)if(d=W[f],1==Y(d)&&!d.w()&&"tp"==c&&("SETUP"==a||"SETUP_NTPV2"==a))return Rd(d,e),d.H(c,b),!0;P('channel name mismatch; message ignored"');return!1};
$.prototype.eb=function(a){var b=Ve(a);a=b[1];switch(b[0]){case "SETUP_ACK":Xe(this,1);this.m.A||this.m.v(!0);break;case "SETUP_ACK_NTPV2":2==this.I&&(Xe(this,2),this.m.A||this.m.v(!0));break;case "SETUP":Xe(this,1);this.tb(1);break;case "SETUP_NTPV2":2==this.I&&(b=this.r,Xe(this,2),this.tb(2),1!=b&&null==this.aa||this.aa==a||(P("Sending SETUP and changing peer ID to: "+a),this.Pa()),this.aa=a)}};
$.prototype.Pa=function(){z(!(1==this.I&&2==this.r));if(2==this.I&&(null==this.r||2==this.r)){var a;a="SETUP_NTPV2,"+this.Hb;this.send("tp",a)}null!=this.r&&1!=this.r||this.send("tp","SETUP")};$.prototype.tb=function(a){z(1!=this.I||2!=a,"Shouldn't try to send a v2 setup ack in v1 mode.");if(2!=this.I||null!=this.r&&2!=this.r||2!=a){if(null!=this.r&&1!=this.r||1!=a)return;this.send("tp","SETUP_ACK")}else this.send("tp","SETUP_ACK_NTPV2");this.n.A||this.n.v(!0)};
var Xe=function(a,b){b>a.r&&(a.r=b);1==a.r&&(a.n.A||a.$a||a.n.v(!0),a.aa=null)};g=$.prototype;g.O=function(){var a=this.d(),b=la(a),c=Ue[b];ha(c)||(c=0);0==c&&Ib(a.postMessage?a:a.document,"message",We,!1,$);Ue[b]=c+1;this.M=!0;this.Ka()};g.Ka=function(){var a=0==Y(this.a);this.$a&&a||this.a.w()||this.U?this.N.stop():(this.N.start(),this.Pa())};
g.send=function(a,b){var c=this.a.t;c?(this.send=function(a,b){var f=this,h=this.a.name;this.La=Kc(function(){f.La=0;try{var k=c.postMessage?c:c.document;k.postMessage?(k.postMessage(h+"|"+a+":"+b,f.ic),Q(L.b,"send(): service="+a+" payload="+b+" to hostname="+f.ic)):O(L.b,"Peer window had no postMessage function.")}catch(t){O(L.b,"Error performing postMessage, ignoring.",t)}},0)},this.send(a,b)):Q(L.b,"send(): window not ready")};g.ab=function(){this.a.P(1==this.I||1==this.r?200:void 0)};
g.e=function(){if(this.M){var a=this.d(),b=la(a),c=Ue[b];Ue[b]=c-1;1==c&&Qb(a.postMessage?a:a.document,"message",We,!1,$)}this.La&&(m.clearTimeout(this.La),this.La=0);E(this.ua);delete this.ua;E(this.N);delete this.N;this.m.cancel();delete this.m;this.n.cancel();delete this.n;this.l.cancel();delete this.l;delete this.send;$.p.e.call(this)};var Ve=function(a){a=a.split(",");a[1]=a[1]||null;return a};var Ye=function(a,b){X.call(this,b);this.a=a;this.pc=a.at||"";this.rc=a.rat||"";var c=this.d();if(!c.nix_setup_complete)try{c.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),c.nix_setup_complete=!0}catch(d){N(L.b,"exception caught while attempting global setup: "+d)}this.GCXPC____NIXJS_handle_message=this.td;this.GCXPC____NIXJS_create_channel=this.sd};v(Ye,X);g=Ye.prototype;g.sa=6;g.za=!1;g.da=null;g.O=function(){0==Y(this.a)?this.zc():this.vc()};
g.zc=function(){if(!this.za){var a=this.a.va;try{a.contentWindow.opener=(0,this.d().GCXPC____NIXVBS_get_wrapper)(this,this.pc),this.za=!0}catch(b){N(L.b,"exception caught while attempting setup: "+b)}this.za||this.d().setTimeout(s(this.zc,this),100)}};
g.vc=function(){if(!this.za){try{var a=this.d().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.da=a;if(this.da.GetAuthToken()!=this.rc){N(L.b,"Invalid auth token from other party");return}this.da.CreateChannel((0,this.d().GCXPC____NIXVBS_get_wrapper)(this,this.pc));this.za=!0;this.a.P()}}catch(b){N(L.b,"exception caught while attempting setup: "+b);return}this.za||this.d().setTimeout(s(this.vc,this),100)}};
g.sd=function(a){"unknown"==typeof a&&"GCXPC____NIXVBS_container"in a||N(L.b,"Invalid NIX channel given to createChannel_");this.da=a;this.da.GetAuthToken()!=this.rc?N(L.b,"Invalid auth token from other party"):this.a.P()};g.td=function(a,b){this.d().setTimeout(s(function(){this.a.H(a,b)},this),1)};g.send=function(a,b){"unknown"!==typeof this.da&&N(L.b,"NIX channel not connected");this.da.SendMessage(a,b)};g.e=function(){Ye.p.e.call(this);this.da=null};var $e=function(a,b){Ad.call(this);for(var c=0,d;d=Od[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.i=a;this.name=this.i.cn||Qd();this.R=b||pa||(pa=new xd);this.Za=[];this.Kb=new U(this);a.lpu=a.lpu||Oc(this.R.d().location.href)+"/robots.txt";a.ppu=a.ppu||Oc(a.pu||"")+"/robots.txt";W[this.name]=this;Sb(window,"unload",Ze)||Pb(window,"unload",Ze);P("CrossPageChannel created: "+this.name)};v($e,Ad);var af=/^%*tp$/,bf=/^%+tp$/;g=$e.prototype;
g.ga=null;g.ka=null;g.k=null;g.g=1;g.w=function(){return 2==this.g};g.t=null;g.va=null;var be=function(a){try{return!!a.t&&!Boolean(a.t.closed)}catch(b){return!1}};g=$e.prototype;g.O=function(a){this.Tb=a||ea;3==this.g&&(this.g=1);this.ka?Id(this.ka,this.Vc):this.Vc()};
g.Vc=function(){P("continueConnection_()");this.ka=null;if(this.i.ifrid){var a=this.i.ifrid;this.va=q(a)?this.R.Ub.getElementById(a):a}this.va&&((a=this.va.contentWindow)||(a=window.frames[this.i.ifrid]),this.t=a);if(!this.t){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.t=window.parent}if(!this.k){if(!this.i.tp){var a=this.i,b;if(r(document.postMessage)||r(window.postMessage)||G&&window.postMessage)b=1;else if(ob)b=2;else if(G&&this.i.pru)b=
3;else{var c;if(c=G){c=!1;try{b=window.opener,window.opener={},c=kb(window,"opener"),window.opener=b}catch(d){}}b=c?6:4}a.tp=b}switch(this.i.tp){case 1:this.k=new $(this,this.i.ph,this.R,!!this.i.osh,this.i.nativeProtocolVersion||2);break;case 6:this.k=new Ye(this,this.R);break;case 2:this.k=new Xd(this,this.R);break;case 3:this.k=new Le(this,this.R);break;case 4:this.k=new Z(this,this.R);break;case 7:if(a=this.t)try{a=window.document.domain==this.t.document.domain}catch(e){a=!1}a?this.k=new Sd(this,
this.R):P("DirectTransport not supported for this window, peer window in different security context or not set yet.")}if(this.k)P("Transport created: "+this.k.getName());else throw Error("CrossPageChannel: No suitable transport found!");}for(this.k.O();0<this.Za.length;)this.Za.shift()()};g.close=function(){this.ka&&(this.ka.cancel(),this.ka=null);this.Za.length=0;this.Kb.nb();this.g=3;E(this.k);this.Tb=this.k=null;E(this.ga);this.ga=null;P('Channel "'+this.name+'" closed')};
g.P=function(a){this.w()||this.ga&&this.ga.$b()||(this.g=2,P('Channel "'+this.name+'" connected'),E(this.ga),n(a)?(this.ga=new vd(this.Tb,a),this.ga.start()):(this.ga=null,this.Tb()))};g.ab=$e.prototype.P;g.send=function(a,b){this.w()?be(this)?(ia(b)&&(b=ac(b)),this.k.send(cf(a),b)):(N(L.b,"Peer has disappeared."),this.close()):N(L.b,"Can't send. Channel not connected.")};
g.H=function(a,b,c){if(this.ka)this.Za.push(s(this.H,this,a,b,c));else{var d=this.i.ph;if(/^[\s\xa0]*$/.test(null==c?"":String(c))||/^[\s\xa0]*$/.test(null==d?"":String(d))||c==this.i.ph)if(this.U||3==this.g)O(L.b,"CrossPageChannel::xpcDeliver(): Channel closed.");else if(a&&"tp"!=a)if(this.w()){if(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=bf.test(a)?a.substring(1):a,c=this.Ib[a],c||(this.mc?c={v:oa(this.mc,a),oc:ia(b)}:(O(this.b,'Unknown service name "'+a+'"'),c=null)),c){var e;t:{if((d=
c.oc)&&q(b))try{e=Yb(b);break t}catch(f){O(this.b,"Expected JSON payload for "+a+', was "'+b+'"');e=null;break t}else if(!d&&!q(b)){e=ac(b);break t}e=b}null!=e&&c.v(e)}}else P("CrossPageChannel::xpcDeliver(): Not connected.");else this.k.eb(b);else O(L.b,'Message received from unapproved origin "'+c+'" - rejected.')}};
var cf=function(a){af.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)},Y=function(a){var b=a.i.role;return ha(b)?b:window.parent==a.t?1:0},Rd=function(a,b){Q(L.b,"changing channel name to "+b);delete W[a.name];a.name=b;W[b]=a};$e.prototype.e=function(){this.close();this.va=this.t=null;delete W[this.name];E(this.Kb);delete this.Kb;$e.p.e.call(this)};var Ze=function(){for(var a in W)E(W[a])};var df=function(a,b,c,d){this.Ed=new ud(a,b,c,this);a=(new gd(d||window.location.href)).D.get("xpc");this.yd=Yb(a);this.qa=null};df.prototype.hc=function(){this.qa=new $e(this.yd);var a=s(df.prototype.send,this);this.qa.Ib.s={v:a,oc:!0};this.qa.O()};df.prototype.send=function(a){this.Ed.send(a[0],a[1])};df.prototype.$c=function(a,b){var c=b.target;ed(c)?this.qa.send("ss",[a]):this.qa.send("sf",[a,fd(c)])};df.prototype.init=df.prototype.hc;ca("invalidation.XpcSenderServer",df,void 0);
